<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_transform_map">
    <sys_transform_map action="INSERT_OR_UPDATE">
        <active>true</active>
        <copy_empty_fields>false</copy_empty_fields>
        <create_new_record_on_empty_coalesce_fields>false</create_new_record_on_empty_coalesce_fields>
        <enforce_mandatory_fields>No</enforce_mandatory_fields>
        <name>Cisco DeviceRegistrations</name>
        <order>100</order>
        <run_business_rules>false</run_business_rules>
        <run_script>true</run_script>
        <script><![CDATA[(function transformRow(source, target, map, log, isUpdate) {
	
	var appUtil = new Cisco_AppUtil();
	var daoScrpt = new Cisco_DAOScript();
	var snLogger  = new Cisco_SNLogger();
	
	try{

		if(source.devicehostname){
			var hostname = appUtil.parse(source.devicehostname);
			target.device_hostname = hostname[0]+'';//daoScrpt.getCmdbRecRef(hostname[0]+'');			
		}
		
		if(source.platformtype){
			
			if(source.platformtype+'' == 'IMCM5')
				target.platform_type = 'Standalone M5 Server';
			else if(source.platformtype+'' == 'IMCM4')
				target.platform_type = 'Standalone M4 Server';
			else if(source.platformtype+'' == 'HX')
				target.platform_type = 'HyperFlex Cluster';
			else if(source.platformtype+'' == 'UCSFI')
				target.platform_type = 'UCS Domain';
		}

	} catch(e) {
		snLogger.error('Error in Cisco DeviceRegistrations Transofrm map ' + e);
	}

})(source, target, map, log, action==="update");]]></script>
        <source_table>x_caci_cisco_inter_cisco_deviceregistration_dump</source_table>
        <sys_class_name>sys_transform_map</sys_class_name>
        <sys_created_by>Prince Arora</sys_created_by>
        <sys_created_on>2019-03-08 11:28:36</sys_created_on>
        <sys_id>78eb02f9db8c7300b6237a61399619dd</sys_id>
        <sys_mod_count>15</sys_mod_count>
        <sys_name>Cisco DeviceRegistrations</sys_name>
        <sys_package display_value="Cisco Intersight ITSM Plugin" source="x_caci_cisco_inter">baef2ff5db132300d7b59235ca9619e3</sys_package>
        <sys_policy/>
        <sys_scope display_value="Cisco Intersight ITSM Plugin">baef2ff5db132300d7b59235ca9619e3</sys_scope>
        <sys_update_name>sys_transform_map_78eb02f9db8c7300b6237a61399619dd</sys_update_name>
        <sys_updated_by>Prince Arora</sys_updated_by>
        <sys_updated_on>2019-03-11 09:44:54</sys_updated_on>
        <target_table>x_caci_cisco_inter_cisco_deviceregistration</target_table>
    </sys_transform_map>
</record_update>
