<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_transform_map">
    <sys_transform_map action="INSERT_OR_UPDATE">
        <active>true</active>
        <copy_empty_fields>false</copy_empty_fields>
        <create_new_record_on_empty_coalesce_fields>false</create_new_record_on_empty_coalesce_fields>
        <enforce_mandatory_fields>No</enforce_mandatory_fields>
        <name>Cisco_ImportFabricInterrconnects</name>
        <order>100</order>
        <run_business_rules>false</run_business_rules>
        <run_script>true</run_script>
        <script><![CDATA[(function transformRow(source, target, map, log, isUpdate) {
	
	var appUtil = new Cisco_AppUtil();
	var snLogger  = new Cisco_SNLogger();
	var daoScrpt = new Cisco_DAOScript();
	
	try{
		
		var availablePorts = 0;
		var totalPorts =  0;
		
	if(source.numetherports && source.numfcports){
			
			totalPorts =  parseInt(source.numetherports) + parseInt(source.numfcports);
			target.total_ether_ports = totalPorts;
		}
		
		if(source.numetherports && source.numetherportsconfigured && source.numfcports){
			availablePorts =  parseInt(source.numetherports) - parseInt(source.numetherportsconfigured) + parseInt(source.numfcports);
			target.available_ports = availablePorts;
		}
		
		if(source.numetherportsconfigured && source.numfcportsconfigured )
			{
			target.ether_ports_configured = parseInt(source.numetherportsconfigured) + parseInt(source.numfcportsconfigured) ;
		}
		
		if(source.tags){
			var tags = appUtil.parse( source.tags);
			
			for(var i in tags){
				var tag = tags[i];
				
				target.tags[tag.Key+''] = tag.Value+'';
			}
		}
		
		//target.install_status=1;
		target.operational_status=1;
				
	}catch(e){
		snLogger.error('Error in Cisco_ImportFabricInterrconnects TM');
	}
	
})(source, target, map, log, action==="update");]]></script>
        <source_table>x_caci_cisco_inter_cisco_fi_dump</source_table>
        <sys_class_name>sys_transform_map</sys_class_name>
        <sys_created_by>Prince Arora</sys_created_by>
        <sys_created_on>2019-02-19 13:12:03</sys_created_on>
        <sys_id>5c708f9cdbf32300b6237a6139961936</sys_id>
        <sys_mod_count>19</sys_mod_count>
        <sys_name>Cisco_ImportFabricInterrconnects</sys_name>
        <sys_package display_value="Cisco Intersight ITSM Plugin" source="x_caci_cisco_inter">baef2ff5db132300d7b59235ca9619e3</sys_package>
        <sys_policy/>
        <sys_scope display_value="Cisco Intersight ITSM Plugin">baef2ff5db132300d7b59235ca9619e3</sys_scope>
        <sys_update_name>sys_transform_map_5c708f9cdbf32300b6237a6139961936</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2019-07-04 07:19:20</sys_updated_on>
        <target_table>x_caci_cisco_inter_cisco_fibre_interconnects</target_table>
    </sys_transform_map>
</record_update>
